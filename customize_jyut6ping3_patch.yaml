patch:
  schema:
    dependencies/+: 
      - component_jyut6ping3
  
  engine:
    segmentor/@before 4:
      - affix_segmentator@component_jyut6ping3
    translators/+:
      - script_translator@component_jyut6ping3
    
  
  component_jyut6ping3:
    tag: component_jyut6ping3
    dictionary: component_jyut6ping3
    prefix: "r"
    suffix: ";"
    tips: 〔拼音〕
    preedit_format:
      - xform/([aeioumngptk])vv/$1⁴/
      - xform/([aeioumngptk])xx/$1⁵/
      - xform/([aeioumngptk])qq/$1⁶/
      - xform/([aeioumngptk])v/$1¹/
      - xform/([aeioumngptk])x/$1²/
      - xform/([aeioumngptk])q/$1³/
      
  reverse_lookup:
    tags/+:
      - component_jyut6ping3
  
  recognizer:
    component_jyut6ping3: "^r[a-z0-9]*;?$"
    
  key_binder:
    import_preset: default
    bindings:
      - {accept: "r", toggle: component_suggestion, when: always}
